---
import BaseHead from "../components/BaseHead.astro";
import GlobalStyles from "../components/GlobalStyles.astro";
import { SITE_TITLE, SITE_DESCRIPTION, getPath } from "../consts";

interface Props {
  title?: string;
  description?: string;
}

const { title = SITE_TITLE, description = SITE_DESCRIPTION } = Astro.props;

const navItems = [
  { name: "projects", path: "/projects", shortcut: "p" },
  // { name: "writing", path: "blog", shortcut: "b" },
  // { name: "resume", path: "resume.pdf", shortcut: "r" },
];

const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
    <GlobalStyles />
  </head>
  <body>
    <div class="container">
      <header class="site-header">
        <a href={getPath("")} class="site-title">
          {SITE_TITLE}
        </a>

        <nav class="nav-links">
          {
            navItems.map((item) => {
              const fullPath = getPath(item.path);
              return (
                <a
                  href={fullPath}
                  class:list={[
                    "nav-link",
                    {
                      active:
                        currentPath === fullPath ||
                        (item.path !== "" && currentPath.startsWith(fullPath)),
                    },
                  ]}
                >
                  {item.name}
                </a>
              );
            })
          }
        </nav>
      </header>
      <main class="content">
        <slot />
      </main>

      <footer class="site-footer">
        <div class="footer-links">
          <a
            href="https://github.com/jeremyarde"
            target="_blank"
            class="nav-link">github</a
          >
          <a href="mailto:jere.arde@gmail.com" class="nav-link">email</a>
          <a
            href="https://www.linkedin.com/in/j-arde/"
            target="_blank"
            class="nav-link">linkedin</a
          >
        </div>
      </footer>
    </div>
  </body>
</html>
